def GROUP_NAME = "FabricDeploy"

task buildDebugCandidateUser() {
    group = GROUP_NAME
    dependsOn 'app:clean'
    finalizedBy 'app:assembleDevQa'
}

task sendDebugCandidateUserToCrashlytics() {
    group = GROUP_NAME
    dependsOn buildDebugCandidateUser
    finalizedBy ':app:crashlyticsUploadDistributionDevQa'
}

task buildProdCandidateUser() {
    group = GROUP_NAME
    dependsOn 'app:clean'
    finalizedBy 'app:assembleProdQa'
}

task sendProdCandidateUserToCrashlytics() {
    group = GROUP_NAME
    dependsOn buildProdCandidateUser
    finalizedBy ':app:crashlyticsUploadDistributionProdQa'
}

task downloadFile << {
    def f = new File('app/keystore.jks')
    if (!f.exists()) {
        new URL(url).withInputStream { i -> f.withOutputStream { it << i } }
    }
    print f.getAbsolutePath()
}
